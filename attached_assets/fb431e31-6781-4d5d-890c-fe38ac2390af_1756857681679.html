<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kindroid Voice Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'sans-serif'],
                },
                colors: {
                    'primary': '#6366F1',
                    'secondary': '#10B981', 
                    'accent': '#F59E0B',
                    'dark-bg': '#0F172A',
                    'dark-surface': '#1E293B',
                    'dark-card': '#334155',
                }
            }
        }
    };
    </script>
</head>
<body class="bg-dark-bg text-slate-100 font-inter min-h-screen">
    
    <!-- @COMPONENT: MainLayout -->
    <div class="flex h-screen overflow-hidden">
        
        <!-- Left Sidebar - Bot Selection -->
        <!-- @COMPONENT: BotSidebar -->
        <div class="w-80 bg-dark-surface border-r border-slate-700 flex flex-col">
            <!-- Header -->
            <div class="p-6 border-b border-slate-700">
                <h1 class="text-xl font-semibold text-slate-100 mb-2">My Companions</h1>
                <div class="relative">
                    <input type="text" placeholder="Search companions..." 
                           class="w-full bg-dark-card text-slate-100 placeholder-slate-400 px-4 py-2 rounded-lg border border-slate-600 focus:border-primary focus:outline-none">
                    <i class="fas fa-search absolute right-3 top-3 text-slate-400"></i>
                </div>
            </div>
            
            <!-- Companion List -->
            <div class="flex-1 overflow-y-auto p-4">
                <!-- @MAP: companions.map(companion => ( -->
                <!-- Active Companion -->
                <div data-mock="true" class="bg-primary/10 border border-primary rounded-lg p-4 mb-3 cursor-pointer hover:bg-primary/20 transition-colors">
                    <div class="flex items-center space-x-3">
                        <!-- AI companion avatar showing a friendly female AI character -->
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=64&h=64" 
                             alt="AI Companion Avatar" class="w-12 h-12 rounded-full border-2 border-primary" data-mock-image="true">
                        <div class="flex-1">
                            <h3 class="font-medium text-slate-100" data-bind="companion.name">Luna</h3>
                            <p class="text-sm text-slate-400" data-bind="companion.status">Available • Voice: Sophia</p>
                        </div>
                        <div class="w-3 h-3 bg-secondary rounded-full"></div>
                    </div>
                </div>
                
                <!-- Other Companions -->
                <div data-mock="true" class="bg-dark-card rounded-lg p-4 mb-3 cursor-pointer hover:bg-slate-600 transition-colors">
                    <div class="flex items-center space-x-3">
                        <!-- AI companion avatar showing a confident male AI character -->
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=64&h=64" 
                             alt="AI Companion Avatar" class="w-12 h-12 rounded-full border-2 border-slate-600" data-mock-image="true">
                        <div class="flex-1">
                            <h3 class="font-medium text-slate-100" data-bind="companion.name">Alex</h3>
                            <p class="text-sm text-slate-400" data-bind="companion.status">Offline • Voice: Nathan</p>
                        </div>
                    </div>
                </div>
                
                <div data-mock="true" class="bg-dark-card rounded-lg p-4 mb-3 cursor-pointer hover:bg-slate-600 transition-colors">
                    <div class="flex items-center space-x-3">
                        <!-- AI companion avatar showing a creative artistic character -->
                        <img src="https://pixabay.com/get/g6c81075f0cff46347d9041f448d8a428d17bebf6043d7a4907842527a6ec8fb8276343c988799bc2a2d61795ed69ff945f12d0645178d704e77f128049cf3f4f_1280.jpg" 
                             alt="AI Companion Avatar" class="w-12 h-12 rounded-full border-2 border-slate-600" data-mock-image="true">
                        <div class="flex-1">
                            <h3 class="font-medium text-slate-100" data-bind="companion.name">Zara</h3>
                            <p class="text-sm text-slate-400" data-bind="companion.status">Away • Voice: Rachel</p>
                        </div>
                    </div>
                </div>
                <!-- @END_MAP )) -->
            </div>
            
            <!-- Add New Companion Button -->
            <div class="p-4 border-t border-slate-700">
                <button class="w-full bg-primary hover:bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2"
                        data-event="click:showAddCompanionModal">
                    <i class="fas fa-plus"></i>
                    <span>Add Companion</span>
                </button>
            </div>
        </div>
        <!-- @END_COMPONENT: BotSidebar -->
        
        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col">
            
            <!-- Top Header -->
            <!-- @COMPONENT: TopHeader -->
            <div class="bg-dark-surface border-b border-slate-700 p-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <!-- Current companion avatar -->
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=48&h=48" 
                             alt="Current Companion" class="w-12 h-12 rounded-full border-2 border-primary" data-mock-image="true">
                        <div>
                            <h2 class="text-lg font-semibold text-slate-100" data-bind="currentCompanion.name">Luna</h2>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-secondary rounded-full animate-pulse" data-bind="connectionStatus"></div>
                                <span class="text-sm text-slate-400" data-bind="connectionStatusText">Connected • High Quality</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Voice Selection Dropdown -->
                    <div class="relative">
                        <select class="bg-dark-card border border-slate-600 text-slate-100 px-4 py-2 rounded-lg focus:border-primary focus:outline-none"
                                data-event="change:handleVoiceChange">
                            <option data-bind="selectedVoice">Sophia (ElevenLabs)</option>
                            <option>Rachel (ElevenLabs)</option>
                            <option>Nathan (ElevenLabs)</option>
                            <option>Bella (ElevenLabs)</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: TopHeader -->
            
            <!-- Call Interface -->
            <!-- @COMPONENT: CallInterface -->
            <div class="flex-1 flex items-center justify-center p-8">
                <!-- @STATE: isCallActive:boolean = false -->
                <!-- @STATE: isCallConnecting:boolean = false -->
                <div class="text-center max-w-md mx-auto">
                    
                    <!-- Avatar with Call Animation -->
                    <div class="relative mb-8">
                        <!-- Animated rings for active call -->
                        <div class="absolute inset-0 rounded-full border-4 border-primary opacity-20 animate-ping"></div>
                        <div class="absolute inset-2 rounded-full border-4 border-secondary opacity-30 animate-ping" style="animation-delay: 0.5s;"></div>
                        
                        <!-- Main avatar -->
                        <!-- Large avatar of current AI companion during call -->
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200" 
                             alt="Luna - AI Companion" class="w-48 h-48 rounded-full border-4 border-primary mx-auto relative z-10" data-mock-image="true">
                    </div>
                    
                    <!-- Call Status -->
                    <h3 class="text-2xl font-semibold mb-2" data-bind="callStatus">Calling Luna...</h3>
                    <p class="text-slate-400 mb-8" data-bind="callDuration">00:00</p>
                    
                    <!-- Voice Activity Indicator -->
                    <!-- @FUNCTIONALITY: This should show real-time voice activity visualization -->
                    <div class="mb-8">
                        <div class="flex items-center justify-center space-x-1 h-8">
                            <div class="w-1 bg-primary rounded-full animate-pulse" style="height: 8px;"></div>
                            <div class="w-1 bg-primary rounded-full animate-pulse" style="height: 16px; animation-delay: 0.1s;"></div>
                            <div class="w-1 bg-primary rounded-full animate-pulse" style="height: 24px; animation-delay: 0.2s;"></div>
                            <div class="w-1 bg-primary rounded-full animate-pulse" style="height: 16px; animation-delay: 0.3s;"></div>
                            <div class="w-1 bg-primary rounded-full animate-pulse" style="height: 12px; animation-delay: 0.4s;"></div>
                        </div>
                        <p class="text-sm text-slate-400 mt-2">Luna is speaking...</p>
                    </div>
                    
                    <!-- Call Controls -->
                    <div class="flex items-center justify-center space-x-6">
                        <!-- Mute Button -->
                        <button class="bg-dark-card hover:bg-slate-600 text-slate-100 w-14 h-14 rounded-full flex items-center justify-center transition-colors"
                                data-event="click:toggleMute" data-implementation="Toggle microphone mute">
                            <i class="fas fa-microphone text-xl"></i>
                        </button>
                        
                        <!-- End Call Button -->
                        <button class="bg-red-500 hover:bg-red-600 text-white w-16 h-16 rounded-full flex items-center justify-center transition-colors"
                                data-event="click:endCall" data-implementation="End current call via Twilio">
                            <i class="fas fa-phone-slash text-xl"></i>
                        </button>
                        
                        <!-- Speaker Button -->
                        <button class="bg-dark-card hover:bg-slate-600 text-slate-100 w-14 h-14 rounded-full flex items-center justify-center transition-colors"
                                data-event="click:toggleSpeaker" data-implementation="Toggle speaker output">
                            <i class="fas fa-volume-up text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Additional Controls -->
                    <div class="flex items-center justify-center space-x-4 mt-8">
                        <button class="text-slate-400 hover:text-slate-200 transition-colors"
                                data-event="click:openFileShare" data-implementation="Open file sharing modal">
                            <i class="fas fa-paperclip mr-2"></i>Share File
                        </button>
                        <button class="text-slate-400 hover:text-slate-200 transition-colors"
                                data-event="click:openSpotify" data-implementation="Open Spotify integration">
                            <i class="fab fa-spotify mr-2"></i>Play Music
                        </button>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: CallInterface -->
        </div>
        
        <!-- Right Sidebar - Features Panel -->
        <!-- @COMPONENT: FeaturesPanel -->
        <div class="w-80 bg-dark-surface border-l border-slate-700 flex flex-col">
            
            <!-- Spotify Integration -->
            <div class="p-6 border-b border-slate-700">
                <h3 class="text-lg font-semibold mb-4 flex items-center">
                    <i class="fab fa-spotify text-green-500 mr-2"></i>
                    Now Playing
                </h3>
                
                <!-- Current Track -->
                <div class="bg-dark-card rounded-lg p-4 mb-4" data-mock="true">
                    <!-- Album artwork for current playing song -->
                    <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=80&h=80" 
                         alt="Album Artwork" class="w-16 h-16 rounded-lg mx-auto mb-3" data-mock-image="true">
                    <h4 class="font-medium text-center mb-1" data-bind="currentTrack.name">Chill Vibes</h4>
                    <p class="text-sm text-slate-400 text-center" data-bind="currentTrack.artist">Lo-Fi Hip Hop</p>
                    
                    <!-- Progress Bar -->
                    <div class="mt-3">
                        <div class="bg-slate-600 h-1 rounded-full">
                            <div class="bg-green-500 h-1 rounded-full w-1/3" data-bind="playProgress"></div>
                        </div>
                        <div class="flex justify-between text-xs text-slate-400 mt-1">
                            <span data-bind="currentTime">1:23</span>
                            <span data-bind="totalTime">3:45</span>
                        </div>
                    </div>
                </div>
                
                <!-- Playback Controls -->
                <div class="flex items-center justify-center space-x-4">
                    <button class="text-slate-400 hover:text-slate-200" data-event="click:previousTrack">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="bg-green-500 hover:bg-green-600 text-white w-10 h-10 rounded-full flex items-center justify-center"
                            data-event="click:togglePlay">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button class="text-slate-400 hover:text-slate-200" data-event="click:nextTrack">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
            </div>
            
            <!-- File Sharing -->
            <div class="p-6 border-b border-slate-700">
                <h3 class="text-lg font-semibold mb-4 flex items-center">
                    <i class="fas fa-cloud-upload-alt text-accent mr-2"></i>
                    File Sharing
                </h3>
                
                <!-- Drag and Drop Area -->
                <!-- @FUNCTIONALITY: File drag and drop zone with Kindroid API integration -->
                <div class="border-2 border-dashed border-slate-600 rounded-lg p-6 text-center hover:border-accent transition-colors cursor-pointer"
                     data-event="dragover:handleDragOver" data-event="drop:handleFileDrop">
                    <i class="fas fa-cloud-upload-alt text-3xl text-slate-400 mb-2"></i>
                    <p class="text-slate-400 mb-2">Drop files here or click to browse</p>
                    <input type="file" class="hidden" multiple data-implementation="Handle file upload to Kindroid API">
                    <button class="text-accent hover:text-amber-300 text-sm">Browse Files</button>
                </div>
                
                <!-- Recent Files -->
                <div class="mt-4">
                    <h4 class="text-sm font-medium text-slate-300 mb-2">Recent Shares</h4>
                    <div class="space-y-2" data-mock="true">
                        <div class="flex items-center space-x-3 p-2 hover:bg-dark-card rounded">
                            <i class="fas fa-file-pdf text-red-400"></i>
                            <div class="flex-1">
                                <p class="text-sm text-slate-200">vacation-photos.zip</p>
                                <p class="text-xs text-slate-400">Shared 2 hours ago</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3 p-2 hover:bg-dark-card rounded">
                            <i class="fas fa-file-image text-blue-400"></i>
                            <div class="flex-1">
                                <p class="text-sm text-slate-200">funny-meme.jpg</p>
                                <p class="text-xs text-slate-400">Shared yesterday</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Call History -->
            <div class="flex-1 p-6 overflow-y-auto">
                <h3 class="text-lg font-semibold mb-4 flex items-center">
                    <i class="fas fa-history text-slate-400 mr-2"></i>
                    Call History
                </h3>
                
                <div class="space-y-3" data-mock="true">
                    <!-- @MAP: callHistory.map(call => ( -->
                    <div class="flex items-center space-x-3 p-3 hover:bg-dark-card rounded-lg cursor-pointer">
                        <div class="w-8 h-8 bg-secondary rounded-full flex items-center justify-center">
                            <i class="fas fa-phone text-white text-xs"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm text-slate-200" data-bind="call.companion">Luna</p>
                            <p class="text-xs text-slate-400" data-bind="call.duration">Duration: 15:32</p>
                        </div>
                        <span class="text-xs text-slate-400" data-bind="call.time">2 hours ago</span>
                    </div>
                    
                    <div class="flex items-center space-x-3 p-3 hover:bg-dark-card rounded-lg cursor-pointer">
                        <div class="w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-phone text-white text-xs"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm text-slate-200" data-bind="call.companion">Alex</p>
                            <p class="text-xs text-slate-400" data-bind="call.duration">Duration: 8:45</p>
                        </div>
                        <span class="text-xs text-slate-400" data-bind="call.time">Yesterday</span>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: FeaturesPanel -->
    </div>
    <!-- @END_COMPONENT: MainLayout -->
    
    <!-- Call Controls (Mobile) -->
    <div class="fixed bottom-0 left-0 right-0 bg-dark-surface border-t border-slate-700 p-4 md:hidden">
        <div class="flex items-center justify-center space-x-6">
            <button class="bg-dark-card text-slate-100 w-12 h-12 rounded-full flex items-center justify-center">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="bg-red-500 text-white w-14 h-14 rounded-full flex items-center justify-center">
                <i class="fas fa-phone-slash"></i>
            </button>
            <button class="bg-dark-card text-slate-100 w-12 h-12 rounded-full flex items-center justify-center">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>
    </div>
    
    <!-- File Upload Modal (Hidden by default) -->
    <!-- @COMPONENT: FileUploadModal -->
    <div id="fileUploadModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden flex items-center justify-center z-50">
        <div class="bg-dark-surface rounded-xl p-6 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-semibold">Share File with Luna</h3>
                <button class="text-slate-400 hover:text-slate-200" data-event="click:closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="border-2 border-dashed border-slate-600 rounded-lg p-8 text-center mb-4">
                <i class="fas fa-cloud-upload-alt text-4xl text-slate-400 mb-3"></i>
                <p class="text-slate-400 mb-3">Drag files here or click to select</p>
                <input type="file" class="hidden" multiple>
                <button class="bg-primary hover:bg-indigo-600 text-white px-6 py-2 rounded-lg">
                    Choose Files
                </button>
            </div>
            
            <div class="flex space-x-3">
                <button class="flex-1 bg-slate-600 hover:bg-slate-500 text-white py-2 rounded-lg">Cancel</button>
                <button class="flex-1 bg-primary hover:bg-indigo-600 text-white py-2 rounded-lg">Share</button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: FileUploadModal -->

    <script>
        (function() {
            // TODO: Initialize Twilio client for voice calls
            // TODO: Set up Eleven Labs API integration
            // TODO: Configure Kindroid API connection
            // TODO: Initialize Spotify Web SDK
            
            // Basic UI interactions (no business logic)
            const fileUploadModal = document.getElementById('fileUploadModal');
            
            // Simple modal toggle for demonstration
            document.addEventListener('click', function(e) {
                if (e.target.closest('[data-event*="openFileShare"]')) {
                    fileUploadModal.classList.remove('hidden');
                }
                if (e.target.closest('[data-event*="closeModal"]')) {
                    fileUploadModal.classList.add('hidden');
                }
            });
            
            // TODO: Implement real-time call status updates
            // TODO: Handle voice activity detection
            // TODO: Manage file upload to Kindroid API
            // TODO: Integrate Spotify playback controls
            // TODO: Handle companion switching
            // TODO: Manage voice selection changes
            
            console.log('Kindroid Voice Companion mockup loaded');
        })();
    </script>
</body>
</html>